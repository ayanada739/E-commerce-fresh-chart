"use strict";(self.webpackChunkappE_commarce=self.webpackChunkappE_commarce||[]).push([[492],{9492:(d,n,r)=>{r.r(n),r.d(n,{AllOrdersComponent:()=>h});var c=r(6814),t=r(4769),l=r(6286),p=r(9410);function i(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div")(3,"p")(4,"span",6),t._uU(5,"Name:"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"p")(8,"span",6),t._uU(9,"Name:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div")(12,"h5"),t._uU(13,"Adress Details:"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA()()(),t.TgZ(20,"div")(21,"h2",2),t._uU(22),t.qZA()()()()),2&e){const s=o.$implicit;t.xp6(6),t.Oqu(s.user.name),t.xp6(4),t.Oqu(s.user.phone),t.xp6(5),t.hij("Details:",s.shippingAddress.details,""),t.xp6(2),t.hij("City:",s.shippingAddress.city,""),t.xp6(2),t.hij("Phone:",s.shippingAddress.phone,""),t.xp6(3),t.hij("TotalPrice:",s.totalOrderPrice,"")}}let h=(()=>{class e{constructor(s,a){this._CartService=s,this._AuthService=a,this.allorders=[],this.cartItems=[]}ngOnInit(){this._AuthService.decodeUserData(),this.userDataId=this._AuthService.userId,console.log(this.userDataId),this._CartService.getAllOeders(this.userDataId).subscribe({next:s=>{this.allorders=s,this.cartItems=s[""],console.log(this.cartItems),console.log(this.allorders)}})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(l.N),t.Y36(p.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-all-orders"]],standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"container","p-5"],[1,"row"],[1,"text-main"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"product","p-4","my-3","d-flex","justify-content-between"],[1,"fw-bold"]],template:function(a,u){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"All Orders"),t.qZA(),t.YNc(4,i,23,6,"div",3),t.qZA()()),2&a&&(t.xp6(4),t.Q6J("ngForOf",u.allorders))},dependencies:[c.ez,c.sg],styles:[".product[_ngcontent-%COMP%]{border:1px solid #682e0e}"]})}return e})()},6286:(d,n,r)=>{r.d(n,{N:()=>p});var c=r(5619),t=r(4769),l=r(9862);let p=(()=>{class i{constructor(e){this._HttpClient=e,this.BaseUrl="https://ecommerce.routemisr.com/",this.myToken={token:localStorage.getItem("etoken")},this.cartNum=new c.X(0)}addToCart(e){return this._HttpClient.post(`${this.BaseUrl}api/v1/cart`,{productId:e},{headers:this.myToken})}getUserCartApi(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItemApi(e){return this._HttpClient.delete(`${this.BaseUrl}api/v1/cart/${e}`)}updateCountApi(e,o){return this._HttpClient.put(`${this.BaseUrl}api/v1/cart/${e}`,{count:o})}clearCartApi(){return this._HttpClient.delete(`${this.BaseUrl}api/v1/cart`)}checkout(e,o){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=http://localhost:4200`,{shippingAddress:o},{headers:this.myToken})}getAllOeders(e){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${e}`)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(l.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);